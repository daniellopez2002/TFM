name: Test Secrets

on:
  workflow_dispatch:  

jobs:
  verify:
    runs-on: [self-hosted, Windows, X64, Local-1]

    env:
      UE_PATH: ${{ secrets.UE_PATH }}
      PROJECT_PATH: ${{ secrets.PROJECT_PATH }}

    steps:
      - name: Print secrets (sanitized)
        run: |
          echo "‚úÖ Runner: $env:COMPUTERNAME"
          echo "üîπ UE_PATH: $env:UE_PATH"
          echo "üîπ PROJECT_PATH: $env:PROJECT_PATH"
        shell: powershell
      - name: Verify UE_PATH exists
        run: |
          if ($env:UE_PATH -and $env:PROJECT_PATH) {
              Write-Host "‚úÖ Secrets are loaded correctly (hidden for security)."
          } else {
              Write-Error "‚ùå One or more secrets are missing!"
          }
        shell: powershell
